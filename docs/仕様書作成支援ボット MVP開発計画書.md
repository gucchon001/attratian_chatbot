# 仕様書作成支援ボット MVP開発計画書

| バージョン | ステータス | 作成日 | 参照ドキュメント |
| :--- | :--- | :--- | :--- |
| **v2.3** | **最新版** | 2025/07/17 | 要件定義書 v3.3, 基本設計書 v1.5 |

## 1. 概要
本ドキュメントは、「仕様書作成支援ボット」のMVPを、**LangChainフレームワークを全面的に採用して開発する**ための具体的な手順、必要な仕様書、および作業計画（WBS）を定義するものである。要件定義書v3.3で定められた、会話の連続性と高度なフィルター機能を含む実用的なMVPを期間内に確実に実現することを目的とする。

## 2. MVP開発手順書
開発を4つの明確なフェーズに分けて進める。

### **フェーズ0: 準備・設計 (所要期間: 1日)**
* **目的:** 開発に必要なツールを準備し、プロジェクトの土台を構築する。
* **手順:**
    1.  **環境構築:** Python仮想環境の構築、必要ライブラリのインストール、`.env`ファイルの作成を行う。
    2.  **ドキュメント最終化:** 要件定義書、各種設計書、テスト仕様書の骨子を固め、チームの共通認識を確立する。

### **フェーズ1: Agentコア機能開発 (所要期間: 4日)**
* **目的:** UIを介さず、まずLangChain Agentがユーザーの意図を理解し、正しく思考し、定義された道具（Tool）を使えることを確認する。
* **手順:**
    1.  **キャッシュ管理モジュールの実装:** フィルター選択肢（Jiraステータス等）をSQLiteにキャッシュする機能を実装する。
    2.  **Toolの実装:** `search_jira_tool`と`search_confluence_tool`が、キーワードだけでなく**フィルター条件を引数として受け取り、動的に検索クエリを生成できる**ように実装する。
    3.  **Agentの初期化とテスト:** LLM (Gemini)、Memory、Toolsを組み合わせてAgentを初期化し、コマンドラインで一連の対話が成立するかをテストする。

### **フェーズ2: UI開発 (所要期間: 1日)**
* **目的:** フェーズ1で作成したAgentを、StreamlitのチャットUIに接続し、インタラクティブな対話を実現する。
* **手順:**
    1.  `画面設計書 v1.4`に基づき、メインのチャットUIと、**サイドバー内の高度な絞り込みフィルターUI**（`st.expander`等）を実装する。
    2.  `st.session_state`にLangChainの`Memory`オブジェクトを保存し、セッション管理を実装する。
    3.  ユーザーの入力をAgentに渡し、応答を表示するロジックを実装する。

### **フェーズ3: テスト・調整・リリース (所要期間: 2日)**
* **目的:** アプリケーション全体として、自然で実用的な会話体験が提供できているかを確認・改善し、リリース準備を整える。
* **手順:**
    1.  **統合テスト:** 要件定義書のユースケースに基づき、**フィルター機能を活用した**一連の連続した会話シナリオを検証する。
    2.  **プロンプトチューニング:** Agentの応答精度を高めるため、Toolの`description`やシステムメッセージを調整する。
    3.  **最終調整とリリース準備:** バッファ期間として最終調整を行い、デプロイ手順に従ってリリース準備を完了する。


## 3. 必要な仕様書一覧
開発を円滑に進め、後の保守性を高めるために、以下のドキュメントを作成・参照する。

1.  **要件定義書 (参照):** `仕様書作成支援ボット 要件定義書 v3.0 (最終版)`
2.  **開発設計書 (参照):** `仕様書作成支援ボット MVP開発設計書 (LangChainベース) v2.0`
3.  **外部インターフェース設計書 (参照):** `仕様書作成支援ボト 外部インターフェース設計書 v1.1`
4.  **画面設計書 (参照):** `仕様書作成支援ボット 画面設計書 v1.0`
5.  **テスト仕様書 (新規作成):** 単体テスト、結合テスト、シナリオテストの項目を定義する。

## 4. WBS (作業分解構成図)
以下に、本MVP開発プロジェクトのWBSを示す。タブ区切りで整形してあるため、コピーしてスプレッドシート等に貼り付け可能。

依頼タイトル	小項目	タスク	ステータス	担当	関係者	開始日	完了予定日	完了日	資料	備考
仕様書作成支援ボット MVP開発	-	-	完了	原口	開発チーム	7/17	7/28	7/17	-	★MVP開発完了・GitHub公開済み
1. 準備・設計		完了	原口	開発チーム	7/17	7/17	7/17	-
環境構築	完了	原口	-	7/17	7/17	7/17	開発計画書
ドキュメント最終化	完了	原口	-	7/17	7/17	7/17	要件定義書, 設計書
2. Agentコア機能開発		完了	原口	開発チーム	7/18	7/23	7/17	-	★全機能実装完了
キャッシュ管理モジュールの実装 (SQLite)	完了	原口	-	7/18	7/18	7/17	基本設計書 v1.5	★SQLiteキャッシュシステム実装済み
Toolの実装 (フィルター対応)	完了	原口	-	7/22	7/22	7/17	MVP開発設計書	★高性能Jira/Confluenceツール実装（30-100x改善）
Agentの初期化と単体テスト	完了	原口	-	7/23	7/23	7/17	MVP開発設計書	★LangChain Agentと包括的単体テスト完成
3. UI開発		完了	原口	開発チーム	7/24	7/24	7/17	-	★Streamlit UI完全実装
UI実装 (フィルター機能含む)	完了	原口	-	7/24	7/24	7/17	画面設計書 v1.6	★階層フィルター機能付きチャットUI実装完了
4. テスト・調整		完了	原口	開発チーム	7/25	7/25	7/17	-	★テスト・最適化完了
統合テストとシナリオ検証	完了	原口	-	7/25	7/25	7/17	テスト仕様書	★包括的テストスイート実装済み
プロンプトチューニング	完了	原口	-	7/25	7/25	7/17	config/prompts.yaml	★YAML外部化によるプロンプト最適化完了
5. リリース		完了	原口	開発チーム	7/28	7/28	7/17	-	★GitHubリポジトリ公開完了
バッファ・最終調整	完了	原口	-	7/28	7/28	7/17	-	★セキュリティ対応・最終調整完了
リリース準備	完了	原口	-	7/28	7/28	7/17	デプロイ手順書, README.md	★GitHub初期化・49ファイル公開完了