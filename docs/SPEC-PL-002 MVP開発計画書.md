# SPEC-PL-002 MVP開発計画書

| バージョン | ステータス | 作成日 | 参照ドキュメント |
| :--- | :--- | :--- | :--- |
| **v3.0** | **段階開発方針版** | 2025/01/17 | SPEC-PL-001 v3.6 |

**v3.0更新内容:**
- 3段階開発方針の導入（Stage 1-3）
- Stage 1: Confluence専用高精度検索システムに特化
- WBS更新：段階開発に対応した作業計画に変更

---

## 1. 概要
本ドキュメントは、「仕様書作成支援ボット」を**3段階の段階開発**で確実に価値提供するための具体的な手順、必要な仕様書、および作業計画（WBS）を定義するものである。

**段階開発の狙い:**
- **確実な価値提供**: Stage 1でConfluence専用80%関連度達成
- **技術的リスク軽減**: 複雑な統合より確実な単体完成を優先
- **ユーザーフィードバック**: 段階ごとの検証と改善サイクル

## 2. 段階開発手順書

### **Stage 1: Confluence専用高精度検索システム** ⭐ **現在実行中**
**期間**: 3週間（7/23-8/13） | **目標**: CLIENTTOMOスペース限定80%関連度達成

#### **Phase 1.1: ハイブリッドアーキテクチャ基盤完成 (7/23-7/30)** ✅ **完了**
* ✅ **固定検索パイプライン**: Step1-4統合フロー実装完了
* ✅ **Agent機能**: ResponseGenerationAgent, FallbackSearchAgent実装完了
* ✅ **プロンプト最適化**: CLIENTTOMO特化プロンプト完成

#### **Phase 1.2: UI統合・プロセス可視化 (7/31-8/6)** ✅ **完了**
* ✅ **統合アコーディオンUI**: 5段階→1つのプロセス表示完成
* ✅ **思考プロセス詳細化**: キーワード分割・検索戦略可視化完成
* ✅ **ワンクリック深掘り機能**: メモリー機能付き深掘り検索実装
* ✅ **会話履歴クリアボタン**: 正確な表示タイミング修正完了
* ✅ **UI最適化**: アコーディオンネスト解消・表示順序最適化

#### **Phase 2.1: エージェント精度向上 (追加実行)** ✅ **完了**
* ✅ **プロンプトエンジニアリング強化**: CLIENTTOMO特化v2.1プロンプト
* ✅ **キーワード抽出高精度化**: 専門用語辞書+質問分類ロジック
* ✅ **検索品質評価改善**: 4軸動的品質評価システム
* ✅ **質問タイプ別検索戦略**: 6カテゴリ別最適化アルゴリズム

#### **Phase 1.3: Confluenceフィルター・テスト完成 (8/7-8/13)** 📋 **予定**
* **目的**: CLIENTTOMOスペース専用フィルター機能
* **実装内容**:
  1. 基本フィルター（コンテンツタイプ、作成日範囲）
  2. SQLiteキャッシュシステム基礎版
  3. Stage 1統合テスト・ユーザビリティ検証

### **Stage 2: Jira検索統合・両方対応** 📋 **計画中**
**期間**: 2週間（8/14-8/27） | **目標**: JiraとConfluenceの統合検索

#### **Phase 2.2: 実Confluence連携 (次期実装)** 📋 **計画中**
* **実装予定**: 本物のConfluence API接続・実CQL検索エンジン
* **統合ロジック**: ダミーデータから実運用データへの移行

#### **Phase 2.3: Jira統合 (将来実装)** 📋 **計画中**
* **JQL検索戦略開発**: Strategy1-3（タイトル優先・分割検索・フレーズ検索）
* **統合Agent・UI調整**: JiraとConfluence両方対応のハイブリッドAgent

### **Stage 3: 統合UI・高度フィルター完全版** 📋 **計画中**
**期間**: 2週間（8/28-9/10） | **目標**: エンタープライズレベル検索体験

#### **Phase 3.1: 高度フィルター統合 (8/28-9/3)**
* **実装予定**: Jira12パラメータ + Confluence4パラメータ統合UI
* **キャッシュ高度化**: 1時間キャッシュ・手動更新機能

#### **Phase 3.2: 最終最適化・本番準備 (9/4-9/10)**
* **パフォーマンス最適化**: 並列処理・キャッシュ活用
* **本番デプロイ準備**: セキュリティ強化・監視機能

## 3. 必要な仕様書一覧
開発を円滑に進め、後の保守性を高めるために、以下のドキュメントを作成・参照する。

1.  **要件定義書 (参照):** `仕様書作成支援ボット 要件定義書 v3.0 (最終版)`
2.  **開発設計書 (参照):** `仕様書作成支援ボット MVP開発設計書 (LangChainベース) v2.0`
3.  **外部インターフェース設計書 (参照):** `仕様書作成支援ボト 外部インターフェース設計書 v1.1`
4.  **画面設計書 (参照):** `仕様書作成支援ボット 画面設計書 v1.0`
5.  **テスト仕様書 (新規作成):** 単体テスト、結合テスト、シナリオテストの項目を定義する。

## 3. WBS (3段階開発作業分解構造)
以下に、3段階開発プロジェクトのWBSを示す。タブ区切りで整形してあるため、コピーしてスプレッドシート等に貼り付け可能。

**Stage 1: Confluence専用高精度検索システム**

依頼タイトル	小項目	タスク	ステータス	担当	関係者	開始日	完了予定日	完了日	資料	備考
Stage1: Confluence専用高精度検索				実行中	開発チーム	PM/デザイナー	2025/07/23	2025/08/13		SPEC-DS-001,002	⭐現在実行中・3週間予定
1. Phase 1.1: ハイブリッドアーキテクチャ基盤			完了	開発チーム	-	2025/07/23	2025/07/30	2025/07/30	-	✅完了・基盤実装完了
	固定検索パイプライン実装		完了	開発チーム	-	2025/07/23	2025/07/28	2025/07/28	SPEC-DS-002	✅Step1-4統合フロー実装完了
	Agent機能実装		完了	開発チーム	-	2025/07/27	2025/07/29	2025/07/29	SPEC-DS-001	✅ResponseGeneration/FallbackSearch実装完了
	プロンプト最適化		完了	開発チーム	-	2025/07/28	2025/07/30	2025/07/30	SPEC-PL-001	✅CLIENTTOMO特化プロンプト完成
2. Phase 1.2: UI統合・プロセス可視化			完了	開発チーム	UI/UX	2025/07/31	2025/08/06	2025/01/24	SPEC-PL-001 3.1.4	✅完了・統合UI+プロセス可視化完成
	統合アコーディオンUI		完了	開発チーム	-	2025/07/31	2025/08/04	2025/01/24	MVP-UI-04	✅5段階→1つのプロセス表示完成
	思考プロセス詳細化		完了	開発チーム	-	2025/08/03	2025/08/05	2025/01/24	MVP-UI-04	✅キーワード分割・検索戦略可視化
	ワンクリック深掘り機能		完了	開発チーム	-	2025/08/04	2025/08/06	2025/01/24	MVP-UI-04	✅メモリー機能付き実装完了
3. Phase 2.1: エージェント精度向上			完了	開発チーム	AI	2025/01/20	2025/01/24	2025/01/24	新規実装	✅追加実行・高精度化完了
	プロンプトエンジニアリング強化		完了	開発チーム	-	2025/01/20	2025/01/22	2025/01/22	-	✅CLIENTTOMO特化v2.1プロンプト完成
	キーワード抽出高精度化		完了	開発チーム	-	2025/01/21	2025/01/23	2025/01/23	-	✅専門用語辞書+質問分類ロジック
	検索品質評価改善		完了	開発チーム	-	2025/01/22	2025/01/24	2025/01/24	-	✅4軸動的品質評価システム完成
4. Phase 1.3: Confluenceフィルター・テスト			予定	開発チーム	QA	2025/08/07	2025/08/13		SPEC-PL-001 3.2	📋CLIENTTOMOスペース専用フィルター
	基本フィルター実装		予定	開発チーム	-	2025/08/07	2025/08/10		MVP-UI-02	📋コンテンツタイプ・日付フィルター
	SQLiteキャッシュ基礎版		予定	開発チーム	-	2025/08/09	2025/08/11		MVP-UI-03	📋基本キャッシュ機能実装
	Stage 1統合テスト		予定	開発チーム	QA	2025/08/11	2025/08/13		SPEC-QA-001	📋完全動作検証・ユーザビリティテスト

**Stage 2: 実Confluence連携・Jira統合 (計画更新)**

依頼タイトル	小項目	タスク	ステータス	担当	関係者	開始日	完了予定日	完了日	資料	備考
Stage2: 実Confluence連携・Jira統合				計画中	開発チーム	PM	2025/08/14	2025/08/27		新規作成予定	📋実データ連携・統合検索実現
1. Phase 2.2: 実Confluence連携			計画中	開発チーム	-	2025/01/25	2025/02/01		新規作成予定	📋本物API・実CQL検索エンジン
	実Confluence API接続		予定	開発チーム	-	2025/01/25	2025/01/28		-	📋ダミーから実データへ移行
	実CQL検索エンジン実装		予定	開発チーム	-	2025/01/27	2025/02/01		-	📋本物データでの動作検証
2. Phase 2.3: Jira統合			計画中	開発チーム	UI/UX	2025/02/02	2025/02/15		SPEC-DS-001拡張	📋両方対応Agent実装
	JQL Strategy1-3実装		予定	開発チーム	-	2025/02/02	2025/02/08		-	📋タイトル・分割・フレーズ検索
	統合Agent・UI実装		予定	開発チーム	UI/UX	2025/02/09	2025/02/15		-	📋JiraとConfluence両方対応

**Stage 3: 統合UI・高度フィルター完全版 (計画中)**

依頼タイトル	小項目	タスク	ステータス	担当	関係者	開始日	完了予定日	完了日	資料	備考
Stage3: 統合UI・高度フィルター完全版				計画中	開発チーム	PM/デザイナー	2025/08/28	2025/09/10		SPEC-PL-001完全版	📋2週間予定・エンタープライズレベル
1. Phase 3.1: 高度フィルター統合			計画中	開発チーム	UI/UX	2025/08/28	2025/09/03		SPEC-PL-001完全版	📋Jira12+Confluence4パラメータ
	Jira12パラメータ実装		予定	開発チーム	-	2025/08/28	2025/09/01		-	📋完全フィルター機能実装
	統合キャッシュシステム		予定	開発チーム	-	2025/08/31	2025/09/03		-	📋1時間キャッシュ・手動更新
2. Phase 3.2: 最終最適化・本番準備			計画中	開発チーム	DevOps	2025/09/04	2025/09/10		SPEC-QA-002	📋本番レベル最適化
	パフォーマンス最適化		予定	開発チーム	-	2025/09/04	2025/09/08		-	📋並列処理・キャッシュ活用
	本番デプロイ準備		予定	開発チーム	DevOps	2025/09/07	2025/09/10		-	📋セキュリティ強化・監視機能

## 4. 補遺

### 4.1. 成果物一覧
* **ソースコード:** `src/` ディレクトリ配下
* **ドキュメント:**
    *   `SPEC-PL-001 要件定義書.md`
    *   `SPEC-PL-002 MVP開発計画書.md` (本文書)
    *   `SPEC-DS-001 開発設計書.md`
    *   `SPEC-DS-002 ハイブリッド検索システム仕様書.md`
    *   `SPEC-DS-003 外部IF設計書.md`
    *   `SPEC-DS-004 画面設計書.md`
    *   `SPEC-QA-001 テスト仕様書.md`
    *   `SPEC-QA-002 デプロイ手順書.md`
* **テスト結果:** テスト管理ツール上のレポート (別途リンク)
* **デプロイパッケージ:** 実行可能ファイルまたはコンテナイメージ